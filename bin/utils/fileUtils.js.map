{"version":3,"sources":["../../src/utils/fileUtils.js"],"names":["readFile","writeFile","outputFile","pathToCsv","Promise","resolve","reject","err","data","console","log","json","JSON","stringify"],"mappings":";;;;;QAMgBA,Q,GAAAA,Q;QAcAC,S,GAAAA,S;;AApBhB;;;;AACA;;;;;;AAEA,IAAMC,aAAa,wBAAU,iBAA7B;AACA,IAAMC,YAAY,wBAAU,iBAA5B;;AAEO,SAASH,QAAT,GAAoB;AACvB;AACA,WAAO,IAAII,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpC,eAAO,aAAGN,QAAH,CAAYG,SAAZ,EAAuB,MAAvB,EAA+B,UAACI,GAAD,EAAMC,IAAN,EAAe;AACjD,gBAAID,GAAJ,EAAS;AACLE,wBAAQC,GAAR,CAAY,qBAAZ,EAAmCH,GAAnC;AACA,uBAAOD,OAAOC,GAAP,CAAP;AACH;;AAED,mBAAOF,QAAQG,IAAR,CAAP;AACH,SAPM,CAAP;AAQH,KATM,CAAP;AAUH;;AAEM,SAASP,SAAT,CAAmBO,IAAnB,EAAyB;AAC5B,WAAO,IAAIJ,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpC,YAAIK,OAAOC,KAAKC,SAAL,CAAeL,IAAf,CAAX;;AAEA,eAAO,aAAGP,SAAH,CAAaC,UAAb,EAAyBS,IAAzB,EAA+B,MAA/B,EAAuC,UAACJ,GAAD,EAAMC,IAAN,EAAe;AACzD,gBAAID,GAAJ,EAAS;AACLE,wBAAQC,GAAR,CAAY,0BAAZ,EAAwCH,GAAxC;AACA,uBAAOD,OAAOC,GAAP,CAAP;AACH;;AAED,mBAAOF,QAAQG,IAAR,CAAP;AACH,SAPM,CAAP;AAQH,KAXM,CAAP;AAYH","file":"fileUtils.js","sourcesContent":["import appRoot from 'app-root-path';\nimport fs from 'fs';\n\nconst outputFile = appRoot + '/topCities.json';\nconst pathToCsv = appRoot + '/top-cities.csv';\n\nexport function readFile() {\n    // Load top-cities file.\n    return new Promise((resolve, reject) => {\n        return fs.readFile(pathToCsv, 'utf8', (err, data) => {\n            if (err) {\n                console.log('Error reading file:', err);\n                return reject(err);\n            }\n\n            return resolve(data);\n        });\n    });\n}\n\nexport function writeFile(data) {\n    return new Promise((resolve, reject) => {\n        let json = JSON.stringify(data);\n\n        return fs.writeFile(outputFile, json, 'utf8', (err, data) => {\n            if (err) {\n                console.log('Error writing json file:', err);\n                return reject(err);\n            }\n\n            return resolve(data);\n        });\n    });\n}"]}